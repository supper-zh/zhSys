<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ship Data</title>
    <link rel="stylesheet" href="css/style.css">

</head>
<body>

<div class="control-connect">
    <h2>本地数据库操作</h2>

    <a href="/db/token">测试连接：获取token</a><br>
    <a href="/db/start">开启WebSocket连接，开始接收数据</a><br>
    <a href="/db/stop">关闭WebSocket连接，停止接收数据</a><br>
    <button id="startButton">打开定时器（定期刷新token）并开始接收数据</button><br>
    <button id="stopButton">关闭定时器并停止接收数据</button><br>

</div>

<div class="sidebar">
    <h2>Search Options</h2>
    <ul>
        <li>
            <h3><a href="#searchByMMSI">Search by MMSI</a></h3>
        </li>
        <li>
            <h3><a href="#searchByType">Search by Type</a></h3>
        </li>
        <li>
            <h3><a href="#searchByState">Search by State</a></h3>
        </li>
        <li>
            <h3><a href="#searchByLength">Search by over length </a></h3>
        </li>
        <li>
            <h3><a href="#searchByLengthRange">Search by Length Range</a></h3>
        </li>
        <li>
            <h3><a href="#searchByLongitudeRange">Search by Longitude Range</a></h3>
        </li>
        <li>
            <h3><a href="#searchByLatitudeRange">Search by Latitude Range</a></h3>
        </li>
        <li>
            <h3><a href="#searchByLatLon">Search by Latitude and Longitude Range</a></h3>
        </li>
        <li>
            <h3><a href="#searchByTimestamp">Search by Timestamp Range</a></h3>
        </li>
        <li>
            <h3><a href="#searchBySpeed">Search by Speed Range</a></h3>
        </li>
        <li>
            <h3><a href="#searchByMMSIList">Search by MMSI List</a></h3>
        </li>
    </ul>
</div>

<div class="main">
    <h2>Ship Data</h2>

    <h3 id="searchByMMSI">Search by MMSI</h3>
    <form id="searchForm">
        <input type="text" id="mmsiInput" placeholder="Enter MMSI">
        <button type="submit">Search</button>
    </form>

    <h3 id="searchByType">Search by Type</h3>
    <form id="typeForm">
        <input type="text" id="typeInput" placeholder="Enter Type">
        <button type="submit">Search</button>
    </form>

    <h3 id="searchByState">Search by State</h3>
    <form id="stateForm">
        <input type="text" id="stateInput" placeholder="Enter State">
        <button type="submit">Search</button>
    </form>

    <h3 id="searchByLatLon">Search by Latitude and Longitude Range</h3>
    <form id="latLonForm">
        <input type="text" id="startLatInput" placeholder="Start Latitude">
        <input type="text" id="endLatInput" placeholder="End Latitude">
        <input type="text" id="startLonInput" placeholder="Start Longitude">
        <input type="text" id="endLonInput" placeholder="End Longitude">
        <button type="submit">Search</button>
    </form>

    <h3 id="searchByTimestamp">Search by Timestamp Range</h3>
    <form id="timestampForm">
        <input type="text" id="startTimestampInput" placeholder="Start Timestamp">
        <input type="text" id="endTimestampInput" placeholder="End Timestamp">
        <button type="submit">Search</button>
    </form>

    <h3 id="searchByLength">Search by over length > </h3>
    <form id="lengthForm">
        <input type="text" id="lengthInput" placeholder="Enter Length">
        <button type="submit">Search</button>
    </form>
    <h3 id="searchByLengthRange">Search by Length Range</h3>
    <form id="lengthRangeForm">
        <input type="text" id="minLength" placeholder="Enter minLength">
        <input type="text" id="maxLength" placeholder="Enter maxLength">
        <button type="submit">Search</button>
    </form>
<!--    -->
    <h3 id="searchByLongitudeRange">Search by Longitude Range</h3>
    <form id="LongitudeRangeForm">
        <input type="text" id="LongitudeStart" placeholder="Enter LongitudeStart">
        <input type="text" id="LongitudeEnd" placeholder="LongitudeEnd">
        <button type="submit">Search</button>
    </form>
    <h3 id="searchByLatitudeRange">Search by Latitude Range</h3>
    <form id="LatitudeRangeForm">
        <input type="text" id="LatitudeStart" placeholder="Enter LatitudeStart">
        <input type="text" id="LatitudeEnd" placeholder="Enter LatitudeEnd">
        <button type="submit">Search</button>
    </form>

    <h3 id="searchBySpeed">Search by Speed Range</h3>
    <form id="speedForm">
        <input type="text" id="minSpeedInput" placeholder="Min Speed">
        <input type="text" id="maxSpeedInput" placeholder="Max Speed">
        <button type="submit">Search</button>
    </form>

    <h3 id="searchByMMSIList">Search by MMSI List</h3>
    <form id="mmsiListForm">
        <input type="text" id="mmsiListInput" placeholder="Enter MMSI List (',' separated)">
        <button type="submit">Search</button>
    </form>

    <h3 id="search">Search By Combined Options:</h3>
    <form id="combinedSearchForm">
            <label for="stateInput">State:</label>
            <input type="text" id="stateInputCombined" name="state" placeholder="state">
            <label for="typeInput">Type:</label>
            <input type="text" id="typeInputCombined" name="type" placeholder="Type">

            <label for="lengthRangeInput">Length Range:</label>
            <input type="number" id="minLengthInput" name="minLength" placeholder="Min Length">
            <input type="number" id="maxLengthInput" name="maxLength" placeholder="Max Length">

            <label for="latLonRangeInput">Latitude and Longitude Range:</label>
            <input type="number" id="startLatInputCombined" name="startLat" placeholder="Start Latitude">
            <input type="number" id="endLatInputCombined" name="endLat" placeholder="End Latitude">
            <input type="number" id="startLonInputCombined" name="startLon" placeholder="Start Longitude">
            <input type="number" id="endLonInputCombined" name="endLon" placeholder="End Longitude">

            <label for="timestampRangeInput">Timestamp Range:</label>
            <input type="number" id="startTimestampInputCombined" name="startTimestamp" placeholder="Start Timestamp">
            <input type="number" id="endTimestampInputCombined" name="endTimestamp" placeholder="End Timestamp">

            <label for="speedRangeInput">Speed Range:</label>
            <input type="number" id="minSpeedInputCombined" name="minSpeed" placeholder="Min Speed">
            <input type="number" id="maxSpeedInputCombined" name="maxSpeed" placeholder="Max Speed">
    <button type="submit">Search</button>

    </form>


    <h1>Ship Info List</h1>
    <button id="exportCSVButton">Export as CSV</button>
    <button id="exportExcelButton">Export as Excel</button>
    <table id="shipList">
        <thead>
        <tr>
            <th>targetId</th>
            <th>mmsi</th>
            <th>heading</th>
            <th>latitude</th>
            <th>longitude</th>
            <th>course</th>
            <th>type</th>
            <th>state</th>
            <th>length</th>
            <th>speed</th>
            <th>timestamp</th>
            <th>fixed</th>
            <!-- Add more table headers for other ship attributes -->
        </tr>
        </thead>
        <tbody>
<!--         Ship data will be dynamically added here-->
        </tbody>
    </table>


</div>
<script type="text/javascript" src="./js/xlsx.core.min.js"></script>
<script src="js/script.js"></script>
<script src="js/Timer.js"></script>
<script src="js/pad.js"></script>
</body>
</html>
